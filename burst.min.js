!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("d3")):"function"==typeof define&&define.amd?define(["d3"],e):t.burst=e(t.d3)}(this,function(t){"use strict";function e(n,r,i){if("undefined"==typeof this||this===window){var o=Array.prototype.map.call(arguments,function(t){return t});return o.unshift(null),new(Function.prototype.bind.apply(e,o))}this.target=n,this.colors=r,this.labelAs=function(t){return i?i(t):t},this.canvas=t.select(n).append("g");var a;this.onResize=function(){"undefined"==typeof a&&(a=setTimeout(function(){this.render(this.data),a=void 0}.bind(this),150))}.bind(this),window.addEventListener("resize",this.onResize,!1)}function n(t){return JSON.stringify(t)}t="default"in t?t["default"]:t;var r=Math.PI/8,i=150,o=15;return e.prototype.render=function(e){function a(t){return h*Math.cos(t*c-r)}function s(t){return h*Math.sin(t*c-r)}e=e||[],this.data=e;var c=e.length>0?2*Math.PI/e.length:0,d=this.target.parentNode,l=d.clientWidth,u={x:l/2,y:i/2},h=Math.min(l,i)/2-o;t.select(this.target).attr("width",l).attr("height",i),this.canvas.selectAll("path,g").remove();var f=this.canvas.selectAll(".node").data(e,n),p=f.enter().append("g").attr("class","node");this.canvas.selectAll(".node").attr("transform",function(t,e){return"translate("+(u.x+a(e))+", "+(u.y+s(e))+")"}),p.append("circle").attr("r",10).attr("fill",this.colors.nodeFill).attr("stroke",this.colors.nodeStroke).attr("stroke-width",3),p.append("text").text(this.labelAs).attr("dy",5).attr("text-anchor",function(t,e){return a(e)>0?"start":"end"}).attr("dx",function(t,e){return a(e)>0?20:-20});var y=this.canvas.selectAll(".connector").data(e,n);y.enter().insert("line","g").attr("class","connector").attr("stroke","#333").attr("stroke-width","2"),this.canvas.selectAll(".connector").attr("x1",u.x).attr("y1",u.y).attr("x2",function(t,e){return u.x+a(e)}).attr("y2",function(t,e){return u.y+s(e)}),f.exit().remove(),y.exit().remove()},e.prototype.destroy=function(){window.removeEventListener("resize",this.onResize)},e});